import{_ as S}from"./PageTitle-63a9dbad.js";import{_ as x,z,o as n,d as o,e as t,t as _,h as g,f as y,n as C,W as M,$,H as B,r as h,g as c,F as b,i as L,k,am as I,w as u,l as v,a5 as V,S as G,V as f}from"./index-e4eea91b.js";import{C as H}from"./CommunityPost-41c104e8.js";import{p as P}from"./parse_song_data-b4c42901.js";import"./ArrowShape-ece7a45d.js";/* empty css                                                   *//* empty css                                                  */import"./Comment-a9b181ea.js";import"./markdown_to_html_lite-855e1114.js";import"./index-97cf174a.js";import"./Pagination.vue_vue_type_style_index_0_lang-cd91223e.js";import"./More-2c944b97.js";import"./CharacterCard-49e2e0e5.js";import"./UserBusiness-5888d0d3.js";import"./Warning-5aff01ac.js";import"./Comment-455f2eb5.js";import"./display_json_text-e58078e3.js";const N={components:{FormButton:z},props:["link_content","index"],data(){return{img_error:!1}},computed:{is_enabled(){return!(this.link_content.disabled=="1"||!this.link_content.link_url)}},methods:{edit(){this.$emit("edit_event",this.link_content)},click(s){if(!this.is_enabled){s.preventDefault();return}this.link_content.link_url.startsWith("http")||(s.preventDefault(),this.$router.push(this.link_content.link_url))}}},R=["href"],q={class:"link_item_icon_box"},D={key:0,class:"link_icon_img_box"},E=["src"],F={key:1,class:"link_icon_img_text_box"},W={class:"link_icon_img_text"},j={class:"link_item_text_box"},A={key:0,class:"link_title"},O={key:1,class:"link_intro"};function T(s,a,i,r,e,d){return n(),o("div",{class:y(["SongListLinkItem appear_section",{img_error:e.img_error}]),style:C({"animation-delay":Math.min(i.index,24)*.02+"s"})},[t("a",{class:y(["link_item_main",{disabled:!d.is_enabled,hover:d.is_enabled}]),href:i.link_content.link_url,target:"_blank",onClick:a[1]||(a[1]=(...l)=>d.click&&d.click(...l))},[t("div",q,[i.link_content.icon&&!e.img_error?(n(),o("div",D,[t("img",{class:"link_icon_img",src:i.link_content.icon,onError:a[0]||(a[0]=l=>e.img_error=!0)},null,40,E)])):(n(),o("div",F,[t("p",W,_(i.link_content.title?i.link_content.title.slice(0,1):" "),1)]))]),t("div",j,[i.link_content.title?(n(),o("p",A,_(i.link_content.title),1)):g("",!0),i.link_content.descr?(n(),o("p",O,_(i.link_content.descr),1)):g("",!0)])],10,R)],6)}const J=x(N,[["render",T]]);const K={components:{SongListLinkItem:J,Placeholder:M},props:["class_id","page"],data(){return{links:null,error:!1}},mounted(){this.get_links()},methods:{get_links(){$("links/get_links.php",{class_id:this.class_id,page:this.page||1}).then(s=>{s.status=="success"?this.links=s.data:(this.links=null,this.error=!0,B({message:s.message||s,status:"error"}))})}}},Q={class:"SongListLink"},U={class:"link_item_container"};function X(s,a,i,r,e,d){const l=h("Placeholder"),m=h("SongListLinkItem");return n(),o("div",Q,[c(l,{class:"link_class_placeholder",loading:!e.links&&!e.error},null,8,["loading"]),t("div",U,[(n(!0),o(b,null,L(e.links,(p,w)=>(n(),k(m,{key:p.link_no,link_content:p,index:w},null,8,["link_content","index"]))),128))])])}const Y=x(K,[["render",X]]);const Z={class:"SongGalleryItem"},tt=["src"],st={key:1,class:"no_cover"},et=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M775.588535 130.988182l-318.385335 101.344089c-38.685771 11.473221-69.77949 53.070818-69.77949 93.196613l0 344.187841 0 4.766768c0 0-23.446503-16.265972-74.606217-8.593174-75.514201 11.006538-136.674535 71.251491-136.674535 134.35151 0 63.073036 61.160333 101.758808 136.674535 90.786247 75.517599-10.972561 130.999782-69.308809 130.999782-132.441804L443.817276 460.380054c0-27.741191 32.0057-39.684894 32.0057-39.684894l281.616864-91.783571c0 0 31.538617-11.00254 31.538617 19.092455l0 239.021943c0 0-28.714532-16.71067-80.285367-10.505877-75.513602 9.564515-136.763874 68.397427-136.763874 131.466466 0 63.132996 61.250272 103.290769 136.763874 93.697273 75.488619-9.500559 136.674934-68.337467 136.674934-131.466666L845.368024 183.087659C845.368024 142.932084 814.278303 119.51556 775.588535 130.988182z"})],-1),nt=[et],it={class:"content_box"},ot={class:"text_box"},_t={class:"song_title_part"},at=["href"],lt={key:2,class:"song_title"},ct={key:0,class:"song_artist_undertitle"},rt={class:"button_box"},dt={__name:"SongGalleryItem",props:{song_data:Object},setup(s){const{song_data:a}=s,i=I();function r(){i.push_and_play_song(a)}function e(){i.push_song(a)}return(d,l)=>{const m=h("RouterLink");return n(),o("div",Z,[t("div",{class:"cover_box",onClick:r},[s.song_data.cover_thumb_url?(n(),o("img",{key:0,src:s.song_data.cover_thumb_url,loading:"lazy"},null,8,tt)):(n(),o("div",st,nt))]),t("div",it,[t("div",ot,[t("div",_t,[s.song_data.song_source=="kloudy"?(n(),k(m,{key:0,to:"/archive/music/songs/"+s.song_data.song_id,class:"song_title link"},{default:u(()=>[v(_(s.song_data.title),1)]),_:1},8,["to"])):s.song_data.song_source=="ncm_song"?(n(),o("a",{key:1,class:"song_title link",href:"https://music.163.com/#/song?id="+s.song_data.ncm_id,target:"_blank"},_(s.song_data.title),9,at)):(n(),o("p",lt,_(s.song_data.title),1))]),s.song_data._artists_name?(n(),o("p",ct,_(s.song_data._artists_name),1)):g("",!0)]),t("div",rt,[t("button",{onClick:e},[c(V)])])])])}}};const ut={class:"SongsGallery section"},ht={__name:"SongsGallery",props:{songs_data:{type:[Array,null],required:!0}},setup(s){return(a,i)=>(n(),o("div",ut,[c(G,null,{default:u(()=>[(n(!0),o(b,null,L(s.songs_data,(r,e)=>(n(),k(dt,{key:r.song_key,song_data:r},null,8,["song_data"]))),128))]),_:1})]))}};const mt={class:"content"},gt={id:"music_home_top"},vt={class:"text_box"},kt={class:"title"},pt={class:"subtitle"},yt={class:"text_box"},ft={class:"title"},xt={class:"subtitle"},$t={class:"text_box"},bt={class:"title"},Lt={class:"subtitle"},wt={class:"part_title"},St=t("svg",{t:"1704596000064",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1547",width:"200",height:"200"},[t("path",{d:"M819.712975 263.712693l-186.730261-186.730262c-10.945883-10.945883-28.105271-10.331758-39.665279 0-8.344881 7.47788-6.213505 20.91639-6.213505 36.305652v486.098356c-62.279546-46.167784-164.946871-46.240034-255.945812 6.32188-113.179708 65.314048-165.127496 186.983137-116.178086 271.768574 49.021661 84.857687 180.408382 100.716574 293.479715 35.402526 87.892189-50.719537 139.298102-135.504974 134.782474-210.50053V168.523248l136.805475 134.854724c10.945883 10.945883 28.755521 10.945883 39.665279 0 10.945883-10.909758 10.945883-28.719396 0-39.665279z m-328.52099 602.276441c-82.834686 51.586538-184.237635 49.021661-224.37254-10.404007-40.026529-59.353418-3.648628-153.097862 79.077683-204.792775 82.834686-51.586538 186.983137-46.276159 227.118042 13.149509 40.062654 59.425669 0.903126 150.35236-81.823185 202.047273z"})],-1),zt={class:"part_title"},Ct=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1270",width:"200",height:"200"},[t("path",{d:"M838.99432863 162.40722482l-186.33127437 38.02037807c-13.51137403 2.82796201-23.25213204 14.61113702-23.25213205 28.43672906v412.09690783c0 23.09502305-15.86800901 43.20497508-38.49170507 48.54668107L534.04575904 702.86218588c-34.24976206 8.01255901-61.27251012 37.39194207-61.42961915 72.58435814-0.31421799 48.07535409 44.30473808 83.58198817 90.96611119 72.74146715l29.85071007-6.91279599c48.70379009-11.31184801 83.26777017-53.73127811 85.62440516-103.22061322h0.47132701v-372.34833075c0-10.84052103 7.69834101-20.26706103 18.38175304-22.46658704l150.35331329-30.63625506c10.84052103-2.19952601 18.69597103-11.78317502 18.69597104-22.93791404v-104.47748521c0.15710901-14.76824603-13.35426503-25.76587604-27.96540206-22.78080504zM166.72491631 255.88708001h375.96183773v33.14999904H166.72491631zM166.72491631 387.38731327h375.96183773v33.14999905H166.72491631z"}),t("path",{d:"M166.72491631 518.88754654h375.96183773V552.03754558H166.72491631zM166.72491631 650.3877798h202.98482839v33.14999904H166.72491631z"})],-1),Mt={class:"song_list_link"},Bt=t("div",{style:{height:"10px"}},null,-1),Kt={__name:"home",setup(s){const a=f(null),i=f("loading");r();async function r(){const e=await $("/archive/music/get_songs.php",{page:1});if(e.status!="success"){i.value="error";return}i.value="success",a.value=[],e.data.songs.forEach(l=>{a.value.push(P(l))})}return(e,d)=>{const l=h("RouterLink");return n(),o("div",mt,[c(S,{parent:{title:e.$text("nav.archive"),link:"/archive"},title:e.$text("nav.archive.music")},null,8,["parent","title"]),t("div",gt,[c(l,{class:"music_home_top_item type1",to:"/archive/music/songs"},{default:u(()=>[t("div",vt,[t("p",kt,_(e.$text("nav.archive.music.songs")),1),t("p",pt,_(e.$text("archive.music.songs_intro")),1)])]),_:1}),c(l,{class:"music_home_top_item type2",to:"/archive/music/player"},{default:u(()=>[t("div",yt,[t("p",ft,_(e.$text("nav.archive.music.player")),1),t("p",xt,_(e.$text("archive.music.player_intro")),1)])]),_:1}),c(l,{class:"music_home_top_item type3",to:"/archive/music/platforms"},{default:u(()=>[t("div",$t,[t("p",bt,_(e.$text("nav.archive.music.platforms")),1),t("p",Lt,_(e.$text("archive.music.platforms_intro")),1)])]),_:1})]),t("h2",wt,[St,v(" "+_(e.$text("archive.music.songs")),1)]),c(ht,{songs_data:a.value},null,8,["songs_data"]),t("h2",zt,[Ct,v(" "+_(e.$text("archive.music.playlists")),1)]),t("div",Mt,[c(Y,{class_id:"playlist"})]),Bt,c(H,{post_id:"archive/music"})])}}};export{Kt as default};
