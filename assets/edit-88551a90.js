import{_ as k,D as b,G as x,v as g,H as $,I as A,J as m,N as C,r as a,o as l,d as h,e,t as o,O as _,Q as r,g as d,w as f,k as V,l as p}from"./index-c121442e.js";import{_ as y}from"./PageTitle-14358d0b.js";import{C as B}from"./CharacterCard-98a61473.js";import{_ as F}from"./AccountPlaceholder-4d94df04.js";import"./ArrowShape-e586138c.js";/* empty css                                                   *//* empty css                                                  */import"./UserBusiness-413d6664.js";const T={components:{PageTitle:y,FormButton:b,CharacterCard:B,AccountPlaceholder:F,FormTextarea:x},data(){return{edit_info:{nickname:"",email:"",website:"",descr:""}}},computed:{Account(){return g()}},mounted(){this.Account.active_character&&this.reset_edit_info()},watch:{"Account.active_character"(t){t&&this.reset_edit_info()}},methods:{reset_edit_info(){this.edit_info.nickname=this.Account.active_character.nickname,this.edit_info.email=this.Account.active_character.email,this.edit_info.website=this.Account.active_character.website,this.edit_info.descr=this.Account.active_character.descr},async submit_edit_info(){const t=await $("account/edit_character.php",{tokenid:await A(),cid:this.Account.active_character.cid,nickname:this.edit_info.nickname||"",email:this.edit_info.email||"",website:this.edit_info.website||"",descr:this.edit_info.descr||""});t.status=="success"?(m({message:"编辑成功",status:"success"}),this.editing=!1,C(),this.$router.push("/account/overview")):(console.log(t),m({message:t.message||t,status:"error"}))}}},N={id:"account_edit",class:"account_content_small"},P={key:0},U={class:"form_rows"},D={class:"form_row_lable"},S=e("div",{class:"icon"},null,-1),E={class:"text"},G=["placeholder"],H={class:"form_row_lable"},I=e("div",{class:"icon"},null,-1),J={class:"text"},M={class:"form_row_lable"},O=e("div",{class:"icon"},null,-1),Q={class:"text"},j=["placeholder"],q={class:"form_row_note"},z={class:"form_row_lable"},K=e("div",{class:"icon"},null,-1),L={class:"text"},R=["placeholder"],W={class:"form_row_note"},X=e("div",{style:{height:"20px"}},null,-1),Y={class:"edit_button_row"};function Z(t,i,ee,te,s,c){const v=a("FormTextarea"),u=a("FormButton"),w=a("AccountPlaceholder");return l(),h("div",N,[c.Account.active_character?(l(),h("div",P,[e("div",U,[e("div",D,[S,e("div",E,[e("h4",null,o(t.$text("account.nickname")),1)])]),_(e("input",{class:"kinput","onUpdate:modelValue":i[0]||(i[0]=n=>s.edit_info.nickname=n),placeholder:t.$text("account.nickname_default")},null,8,G),[[r,s.edit_info.nickname]]),e("div",H,[I,e("div",J,[e("h4",null,o(t.$text("account.intro")),1)])]),d(v,{modelValue:s.edit_info.descr,"onUpdate:modelValue":i[1]||(i[1]=n=>s.edit_info.descr=n),placeholder:t.$text("account.no_intro")},null,8,["modelValue","placeholder"]),e("div",M,[O,e("div",Q,[e("h4",null,o(t.$text("account.email")),1)])]),_(e("input",{class:"kinput","onUpdate:modelValue":i[2]||(i[2]=n=>s.edit_info.email=n),placeholder:t.$text("account.no_email")},null,8,j),[[r,s.edit_info.email]]),e("ul",q,[e("li",null,o(t.$text("account.email_info_private")),1),e("li",null,o(t.$text("account.email_info_avatar")),1),e("li",null,o(t.$text("account.email_info_replay")),1)]),e("div",z,[K,e("div",L,[e("h4",null,o(t.$text("account.website")),1)])]),_(e("input",{class:"kinput","onUpdate:modelValue":i[3]||(i[3]=n=>s.edit_info.website=n),placeholder:t.$text("account.no_website")},null,8,R),[[r,s.edit_info.website]]),e("ul",W,[e("li",null,o(t.$text("account.website_info")),1)])]),X,e("div",Y,[d(u,{class:"plain",icon:"reset",onClick:c.reset_edit_info},{default:f(()=>[p(o(t.$text("dialog.reset")),1)]),_:1},8,["onClick"]),d(u,{icon:"confirm",onClick:c.submit_edit_info},{default:f(()=>[p(o(t.$text("dialog.save")),1)]),_:1},8,["onClick"])])])):(l(),V(w,{key:1}))])}const re=k(T,[["render",Z]]);export{re as default};
