import{_ as S}from"./PageTitle-d0b6dd5a.js";import{_ as f,D as z,o as n,d as o,e as t,t as _,h as v,f as y,n as M,Z as B,$,J as C,r as m,g as a,F as w,i as b,k as p,ap as I,w as h,l as u,a9 as G,S as V,Y as x}from"./index-7b0ed318.js";import{C as P}from"./CommunityPost-1510e111.js";import{p as D}from"./parse_song_data-4a69154e.js";import"./ArrowShape-9bc85e00.js";/* empty css                                                   *//* empty css                                                  */import"./Comment-fbf54df9.js";import"./markdown_to_html_lite-855e1114.js";import"./index-97cf174a.js";import"./Pagination.vue_vue_type_style_index_0_lang-875fff96.js";import"./More-e756f6f8.js";import"./CharacterCard-2852dab6.js";import"./UserBusiness-59ec9d6e.js";import"./Warning-2ffc4d14.js";import"./Comment-7a112dca.js";import"./display_json_text-3f64df4d.js";const H={components:{FormButton:z},props:["link_content","index"],data(){return{img_error:!1}},computed:{is_enabled(){return!(this.link_content.disabled=="1"||!this.link_content.link_url)}},methods:{edit(){this.$emit("edit_event",this.link_content)},click(s){if(!this.is_enabled){s.preventDefault();return}this.link_content.link_url.startsWith("http")||(s.preventDefault(),this.$router.push(this.link_content.link_url))}}},N=["href"],R={class:"link_item_icon_box"},q={key:0,class:"link_icon_img_box"},E=["src"],F={key:1,class:"link_icon_img_text_box"},j={class:"link_icon_img_text"},A={class:"link_item_text_box"},J={key:0,class:"link_title"},K={key:1,class:"link_intro"};function O(s,l,i,r,e,d){return n(),o("div",{class:y(["SongListLinkItem appear_section",{img_error:e.img_error}]),style:M({"animation-delay":Math.min(i.index,24)*.02+"s"})},[t("a",{class:y(["link_item_main",{disabled:!d.is_enabled,hover:d.is_enabled}]),href:i.link_content.link_url,target:"_blank",onClick:l[1]||(l[1]=(...c)=>d.click&&d.click(...c))},[t("div",R,[i.link_content.icon&&!e.img_error?(n(),o("div",q,[t("img",{class:"link_icon_img",src:i.link_content.icon,onError:l[0]||(l[0]=c=>e.img_error=!0)},null,40,E)])):(n(),o("div",F,[t("p",j,_(i.link_content.title?i.link_content.title.slice(0,1):" "),1)]))]),t("div",A,[i.link_content.title?(n(),o("p",J,_(i.link_content.title),1)):v("",!0),i.link_content.descr?(n(),o("p",K,_(i.link_content.descr),1)):v("",!0)])],10,N)],6)}const T=f(H,[["render",O]]);const W={components:{SongListLinkItem:T,Placeholder:B},props:["class_id","page"],data(){return{links:null,error:!1}},mounted(){this.get_links()},methods:{get_links(){$("links/get_links.php",{class_id:this.class_id,page:this.page||1}).then(s=>{s.status=="success"?this.links=s.data:(this.links=null,this.error=!0,C({message:s.message||s,status:"error"}))})}}},Y={class:"SongListLink"},Z={class:"link_item_container"};function Q(s,l,i,r,e,d){const c=m("Placeholder"),g=m("SongListLinkItem");return n(),o("div",Y,[a(c,{class:"link_class_placeholder",loading:!e.links&&!e.error},null,8,["loading"]),t("div",Z,[(n(!0),o(w,null,b(e.links,(k,L)=>(n(),p(g,{key:k.link_no,link_content:k,index:L},null,8,["link_content","index"]))),128))])])}const U=f(W,[["render",Q]]);const X={class:"SongGalleryItem"},tt=["src"],st={key:1,class:"no_cover"},et=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M775.588535 130.988182l-318.385335 101.344089c-38.685771 11.473221-69.77949 53.070818-69.77949 93.196613l0 344.187841 0 4.766768c0 0-23.446503-16.265972-74.606217-8.593174-75.514201 11.006538-136.674535 71.251491-136.674535 134.35151 0 63.073036 61.160333 101.758808 136.674535 90.786247 75.517599-10.972561 130.999782-69.308809 130.999782-132.441804L443.817276 460.380054c0-27.741191 32.0057-39.684894 32.0057-39.684894l281.616864-91.783571c0 0 31.538617-11.00254 31.538617 19.092455l0 239.021943c0 0-28.714532-16.71067-80.285367-10.505877-75.513602 9.564515-136.763874 68.397427-136.763874 131.466466 0 63.132996 61.250272 103.290769 136.763874 93.697273 75.488619-9.500559 136.674934-68.337467 136.674934-131.466666L845.368024 183.087659C845.368024 142.932084 814.278303 119.51556 775.588535 130.988182z"})],-1),nt=[et],it={class:"content_box"},ot={class:"text_box"},_t={class:"song_title_part"},lt=["href"],ct={key:2,class:"song_title"},at={key:0,class:"song_artist_undertitle"},rt={class:"button_box"},dt={__name:"SongGalleryItem",props:{song_data:Object},setup(s){const{song_data:l}=s,i=I();function r(){i.push_and_play_song(l)}function e(){i.push_song(l)}return(d,c)=>{const g=m("RouterLink");return n(),o("div",X,[t("div",{class:"cover_box",onClick:r},[s.song_data.cover_thumb_url?(n(),o("img",{key:0,src:s.song_data.cover_thumb_url,loading:"lazy"},null,8,tt)):(n(),o("div",st,nt))]),t("div",it,[t("div",ot,[t("div",_t,[s.song_data.song_source=="kloudy"?(n(),p(g,{key:0,to:"/archive/music/songs/"+s.song_data.song_id,class:"song_title link"},{default:h(()=>[u(_(s.song_data.title),1)]),_:1},8,["to"])):s.song_data.song_source=="ncm_song"?(n(),o("a",{key:1,class:"song_title link",href:"https://music.163.com/#/song?id="+s.song_data.ncm_id,target:"_blank"},_(s.song_data.title),9,lt)):(n(),o("p",ct,_(s.song_data.title),1))]),s.song_data._artists_name?(n(),o("p",at,_(s.song_data._artists_name),1)):v("",!0)]),t("div",rt,[t("button",{onClick:e},[a(G)])])])])}}};const ut={class:"SongsGallery section"},ht={__name:"SongsGallery",props:{songs_data:{type:[Array,null],required:!0}},setup(s){return(l,i)=>(n(),o("div",ut,[a(V,null,{default:h(()=>[(n(!0),o(w,null,b(s.songs_data,(r,e)=>(n(),p(dt,{key:r.song_key,song_data:r},null,8,["song_data"]))),128))]),_:1})]))}};const mt={class:"content"},gt={id:"music_home_top"},vt={class:"text_box"},pt={class:"title"},kt={class:"subtitle"},yt={class:"text_box"},xt={class:"title"},ft={class:"subtitle"},$t={class:"text_box"},wt={class:"title"},bt={class:"subtitle"},Lt={class:"part_title"},St=t("svg",{t:"1704596000064",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1547",width:"200",height:"200"},[t("path",{d:"M819.712975 263.712693l-186.730261-186.730262c-10.945883-10.945883-28.105271-10.331758-39.665279 0-8.344881 7.47788-6.213505 20.91639-6.213505 36.305652v486.098356c-62.279546-46.167784-164.946871-46.240034-255.945812 6.32188-113.179708 65.314048-165.127496 186.983137-116.178086 271.768574 49.021661 84.857687 180.408382 100.716574 293.479715 35.402526 87.892189-50.719537 139.298102-135.504974 134.782474-210.50053V168.523248l136.805475 134.854724c10.945883 10.945883 28.755521 10.945883 39.665279 0 10.945883-10.909758 10.945883-28.719396 0-39.665279z m-328.52099 602.276441c-82.834686 51.586538-184.237635 49.021661-224.37254-10.404007-40.026529-59.353418-3.648628-153.097862 79.077683-204.792775 82.834686-51.586538 186.983137-46.276159 227.118042 13.149509 40.062654 59.425669 0.903126 150.35236-81.823185 202.047273z"})],-1),zt={class:"part_title"},Mt=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1270",width:"200",height:"200"},[t("path",{d:"M838.99432863 162.40722482l-186.33127437 38.02037807c-13.51137403 2.82796201-23.25213204 14.61113702-23.25213205 28.43672906v412.09690783c0 23.09502305-15.86800901 43.20497508-38.49170507 48.54668107L534.04575904 702.86218588c-34.24976206 8.01255901-61.27251012 37.39194207-61.42961915 72.58435814-0.31421799 48.07535409 44.30473808 83.58198817 90.96611119 72.74146715l29.85071007-6.91279599c48.70379009-11.31184801 83.26777017-53.73127811 85.62440516-103.22061322h0.47132701v-372.34833075c0-10.84052103 7.69834101-20.26706103 18.38175304-22.46658704l150.35331329-30.63625506c10.84052103-2.19952601 18.69597103-11.78317502 18.69597104-22.93791404v-104.47748521c0.15710901-14.76824603-13.35426503-25.76587604-27.96540206-22.78080504zM166.72491631 255.88708001h375.96183773v33.14999904H166.72491631zM166.72491631 387.38731327h375.96183773v33.14999905H166.72491631z"}),t("path",{d:"M166.72491631 518.88754654h375.96183773V552.03754558H166.72491631zM166.72491631 650.3877798h202.98482839v33.14999904H166.72491631z"})],-1),Bt={class:"song_list_link"},Ct={class:"music_top_tip"},It={class:"music_top_tip_icon",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",version:"1.1",viewBox:"0 0 17851 17851","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003",style:{"shape-rendering":"geometricprecision","text-rendering":"geometricprecision","fill-rule":"evenodd","clip-rule":"evenodd"}},Gt=t("g",{id:"图层_x0020_1"},[t("path",{class:"fil1",d:"M7075 6830c56,740 12,4031 14,5048 0,432 -21,3474 22,3753 52,339 373,624 708,423 434,-261 281,-1660 280,-2221l3 -5050c-2,-815 -43,-1767 6,-2566 154,-127 1629,-1108 1762,-1152 -45,2873 2,5941 8,8850 1,488 -3,980 11,1468 16,515 137,838 733,706 1132,-249 2901,-1292 3702,-2206 605,-690 721,-771 1236,-1699 1381,-2491 718,-5832 -1058,-7784l-727 -737c-342,-308 -32,-665 -192,-1270 -137,-518 -744,-390 -934,-83 -167,268 -14,10520 -48,11825 -298,222 -1199,730 -1674,861 55,-3369 -16,-6788 -10,-10164 1,-698 138,-1785 -990,-1009 -432,297 -4256,2848 -4631,3027l3 -3199c492,-326 1588,-661 2247,-782 2187,-404 2921,302 3246,-177 123,-182 117,-484 -17,-632 -197,-219 -901,-220 -1266,-237 -928,-45 -1888,28 -2750,255 -3987,1049 -6271,5651 -4712,9401 310,747 668,1404 1099,1917 171,204 512,636 707,799 512,427 395,464 395,1105 0,405 -37,1126 22,1497 85,532 671,534 875,207 255,-408 149,-2275 148,-2885l4 -6027c22,-197 986,-753 1293,-965 136,-94 334,-245 485,-297zm-2835 6461l-14 -8656c-398,327 -945,1162 -1228,1791 -840,1866 -581,4297 563,5984 107,159 187,280 298,435 116,164 248,369 381,446zm9416 -39l323 -366c884,-1107 1335,-2286 1340,-3777 5,-1581 -341,-2624 -1300,-3818 -88,-108 -273,-312 -359,-382l-4 8343z"})],-1),Vt=[Gt],Pt=t("p",null,[t("del",null,"全新的"),u("独立音乐播放器应用 Kloudy Shape Melody 已发布, "),t("del",null,"欢迎"),u("前往 "),t("a",{target:"_blank",href:"https://melody.kloudy.cn"},"melody.kloudy.cn"),u(" 体验！ "),t("span",{class:"note"},"（好吧，其实和现在这个播放器没什么区别）")],-1),Ut={__name:"home",setup(s){const l=x(null),i=x("loading");r();async function r(){const e=await $("/archive/music/get_songs.php",{page:1});if(e.status!="success"){i.value="error";return}i.value="success",l.value=[],e.data.songs.forEach(c=>{l.value.push(D(c))})}return(e,d)=>{const c=m("RouterLink");return n(),o("div",mt,[a(S,{parent:{title:e.$text("nav.archive"),link:"/archive"},title:e.$text("nav.archive.music")},null,8,["parent","title"]),t("div",gt,[a(c,{class:"music_home_top_item type1",to:"/archive/music/songs"},{default:h(()=>[t("div",vt,[t("p",pt,_(e.$text("nav.archive.music.songs")),1),t("p",kt,_(e.$text("archive.music.songs_intro")),1)])]),_:1}),a(c,{class:"music_home_top_item type2",to:"/archive/music/player"},{default:h(()=>[t("div",yt,[t("p",xt,_(e.$text("nav.archive.music.player")),1),t("p",ft,_(e.$text("archive.music.player_intro")),1)])]),_:1}),a(c,{class:"music_home_top_item type3",to:"/archive/music/platforms"},{default:h(()=>[t("div",$t,[t("p",wt,_(e.$text("nav.archive.music.platforms")),1),t("p",bt,_(e.$text("archive.music.platforms_intro")),1)])]),_:1})]),t("h2",Lt,[St,u(" "+_(e.$text("archive.music.songs")),1)]),a(ht,{songs_data:l.value},null,8,["songs_data"]),t("h2",zt,[Mt,u(" "+_(e.$text("archive.music.playlists")),1)]),t("div",Bt,[a(U,{class_id:"playlist"})]),t("div",Ct,[(n(),o("svg",It,Vt)),Pt]),a(P,{post_id:"archive/music"})])}}};export{Ut as default};
