import{_ as d,P as f,Z as v,$ as P,I as $,v as p,J as k,r as o,o as c,d as i,e as u,t as w,F as x,i as V,k as l,g as _,w as A}from"./index-6f69462e.js";import{C as B}from"./Comment-eb92300d.js";import{C as D}from"./CharacterCard-e52e3e02.js";import{_ as b}from"./AccountPlaceholder-700c7c53.js";import"./markdown_to_html_lite-855e1114.js";import"./index-97cf174a.js";import"./UserBusiness-18e9140c.js";const F={components:{Comment:B,PageDialog:f,CharacterCard:D,Placeholder:v},props:{},data(){return{character_comments:null,open_user_dialog:!1,user_dialog:{}}},computed:{},mounted(){this.get_character_comments()},beforeUnmount(){},watch:{},methods:{async get_character_comments(){P("community/get_character_comments.php",{tokenid:await $(),cid:p().active_character.cid}).then(e=>{e.status=="success"?this.character_comments=e.data:(this.character_comments=null,k({message:e.message,status:"error"}),console.log(e))})},view_user_event(e){this.open_user_dialog=!0,this.user_dialog=e}}},N={class:"character_comments"},S={class:"section_title"},U={class:"character_comments_box"};function E(e,s,h,g,t,a){const r=o("Comment"),m=o("Placeholder"),C=o("CharacterCard"),y=o("PageDialog");return c(),i("div",N,[u("h2",S,w(e.$text("community.ten_recent_comments")),1),u("div",U,[(c(!0),i(x,null,V(t.character_comments,n=>(c(),l(r,{key:n.comment_no,comment:n,options:{hide_action:!0,display_post:!0,hide_ip:!0},onView_user_event:a.view_user_event},null,8,["comment","onView_user_event"]))),128)),_(m,{empty:t.character_comments&&t.character_comments.length==0,empty_title:e.$text("community.no_comments")},null,8,["empty","empty_title"])]),_(y,{modelValue:t.open_user_dialog,"onUpdate:modelValue":s[0]||(s[0]=n=>t.open_user_dialog=n),title:" ",class:"user_dialog"},{default:A(()=>[_(C,{character:t.user_dialog},null,8,["character"])]),_:1},8,["modelValue"])])}const I=d(F,[["render",E]]);const J={components:{CommunityCharacterComments:I,AccountPlaceholder:b},computed:{Account(){return p()}}},L={class:"my_comments"};function Z(e,s,h,g,t,a){const r=o("CommunityCharacterComments"),m=o("AccountPlaceholder");return c(),i("div",L,[a.Account.active_character?(c(),l(r,{key:0})):(c(),l(m,{key:1}))])}const O=d(J,[["render",Z]]);export{O as default};
