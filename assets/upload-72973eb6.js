import{_ as g}from"./PageTitle-63a9dbad.js";import{V as d,Z as b,a0 as h,o as a,d as r,g as _,e as s,F as x,i as L,p as y,B as V}from"./index-e4eea91b.js";import{m as B}from"./markdown_to_html_widget-a003ad54.js";import"./ArrowShape-ece7a45d.js";/* empty css                                                   *//* empty css                                                  */import"./index-97cf174a.js";const U={class:"content"},k={class:"imgs_row"},w=["title"],E=["src"],F=["innerHTML"],$=s("br",null,null,-1),H=s("br",null,null,-1),q={__name:"upload",setup(M){const l=d("");function m(o){console.log(o)}const i=d([]);function u(o){const t=o.clipboardData.items;for(let e=0;e<t.length;e++)if(t[e].type.indexOf("image")===0){const p=t[e].getAsFile(),c=URL.createObjectURL(p);i.value.push(c);const n=document.querySelector("textarea"),v=n.selectionStart,f=n.selectionEnd;n.value=n.value.substring(0,v)+`![img](${c})`+n.value.substring(f)}}return b(()=>{l.value="Hello, world!",document.addEventListener("paste",u)}),h(()=>{document.removeEventListener("paste",u)}),(o,t)=>(a(),r("div",U,[_(g,{parent:{title:o.$text("nav.laboratory"),link:"/laboratory"},title:"Upload"},null,8,["parent"]),s("div",k,[(a(!0),r(x,null,L(i.value,e=>(a(),r("div",{class:"img_item",title:e},[s("img",{src:e},null,8,E)],8,w))),256))]),s("article",{innerHTML:y(B)(l.value)},null,8,F),$,_(V,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),onInput:m},null,8,["modelValue"]),H]))}};export{q as default};
