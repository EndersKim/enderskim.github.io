import{_ as S}from"./PageTitle-4c4a4fbf.js";import{_ as x,x as z,o as e,d as o,e as t,t as d,h as g,f as y,n as C,Q as M,$ as b,D as B,r as m,g as a,F as $,i as L,k,ao as I,w as u,l as v,a3 as G,S as V,O as f}from"./index-2969da6f.js";import{C as P}from"./CommunityPost-69da51f5.js";import{p as D}from"./parse_song_data-3f8ca013.js";import"./ArrowShape-b703d677.js";/* empty css                                                   *//* empty css                                                  */import"./Comment-01f53843.js";import"./markdown_to_html_lite-855e1114.js";import"./index-97cf174a.js";import"./Pagination.vue_vue_type_style_index_0_lang-f7b64684.js";import"./More-b82bc063.js";import"./CharacterCard-0e45d6a8.js";import"./UserBusiness-ac2e8185.js";import"./Warning-eb31c5db.js";import"./Comment-76b0dc5d.js";import"./display_json_text-4e7e731a.js";const H={components:{FormButton:z},props:["link_content","index"],data(){return{img_error:!1}},computed:{is_enabled(){return!(this.link_content.disabled=="1"||!this.link_content.link_url)}},methods:{edit(){this.$emit("edit_event",this.link_content)},click(s){if(!this.is_enabled){s.preventDefault();return}this.link_content.link_url.startsWith("http")||(s.preventDefault(),this.$router.push(this.link_content.link_url))}}},N=["href"],R={class:"link_item_icon_box"},q={key:0,class:"link_icon_img_box"},E=["src"],F={key:1,class:"link_icon_img_text_box"},O={class:"link_icon_img_text"},j={class:"link_item_text_box"},A={key:0,class:"link_title"},Q={key:1,class:"link_intro"};function T(s,_,n,c,i,r){return e(),o("div",{class:y(["SongListLinkItem appear_section",{img_error:i.img_error}]),style:C({"animation-delay":Math.min(n.index,24)*.02+"s"})},[t("a",{class:y(["link_item_main",{disabled:!r.is_enabled,hover:r.is_enabled}]),href:n.link_content.link_url,target:"_blank",onClick:_[1]||(_[1]=(...l)=>r.click&&r.click(...l))},[t("div",R,[n.link_content.icon&&!i.img_error?(e(),o("div",q,[t("img",{class:"link_icon_img",src:n.link_content.icon,onError:_[0]||(_[0]=l=>i.img_error=!0)},null,40,E)])):(e(),o("div",F,[t("p",O,d(n.link_content.title?n.link_content.title.slice(0,1):" "),1)]))]),t("div",j,[n.link_content.title?(e(),o("p",A,d(n.link_content.title),1)):g("",!0),n.link_content.descr?(e(),o("p",Q,d(n.link_content.descr),1)):g("",!0)])],10,N)],6)}const W=x(H,[["render",T]]);const J={components:{SongListLinkItem:W,Placeholder:M},props:["class_id","page"],data(){return{links:null,error:!1}},mounted(){this.get_links()},methods:{get_links(){b("links/get_links.php",{class_id:this.class_id,page:this.page||1}).then(s=>{s.status=="success"?this.links=s.data:(this.links=null,this.error=!0,B({message:s.message||s,status:"error"}))})}}},K={class:"SongListLink"},U={class:"link_item_container"};function X(s,_,n,c,i,r){const l=m("Placeholder"),h=m("SongListLinkItem");return e(),o("div",K,[a(l,{class:"link_class_placeholder",loading:!i.links&&!i.error},null,8,["loading"]),t("div",U,[(e(!0),o($,null,L(i.links,(p,w)=>(e(),k(h,{key:p.link_no,link_content:p,index:w},null,8,["link_content","index"]))),128))])])}const Y=x(J,[["render",X]]);const Z={class:"SongGalleryItem"},tt=["src"],st={key:1,class:"no_cover"},et=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M775.588535 130.988182l-318.385335 101.344089c-38.685771 11.473221-69.77949 53.070818-69.77949 93.196613l0 344.187841 0 4.766768c0 0-23.446503-16.265972-74.606217-8.593174-75.514201 11.006538-136.674535 71.251491-136.674535 134.35151 0 63.073036 61.160333 101.758808 136.674535 90.786247 75.517599-10.972561 130.999782-69.308809 130.999782-132.441804L443.817276 460.380054c0-27.741191 32.0057-39.684894 32.0057-39.684894l281.616864-91.783571c0 0 31.538617-11.00254 31.538617 19.092455l0 239.021943c0 0-28.714532-16.71067-80.285367-10.505877-75.513602 9.564515-136.763874 68.397427-136.763874 131.466466 0 63.132996 61.250272 103.290769 136.763874 93.697273 75.488619-9.500559 136.674934-68.337467 136.674934-131.466666L845.368024 183.087659C845.368024 142.932084 814.278303 119.51556 775.588535 130.988182z"})],-1),nt=[et],it={class:"content_box"},ot={class:"text_box"},_t={class:"song_title_part"},lt=["href"],at={key:2,class:"song_title"},ct={key:0,class:"song_artist_undertitle"},rt={class:"button_box"},dt={__name:"SongGalleryItem",props:{song_data:Object},setup(s){const{song_data:_}=s,n=I();function c(){n.push_and_play_song(_)}function i(){n.push_song(_)}return(r,l)=>{const h=m("RouterLink");return e(),o("div",Z,[t("div",{class:"cover_box",onClick:c},[s.song_data.cover_thumb_url?(e(),o("img",{key:0,src:s.song_data.cover_thumb_url,loading:"lazy"},null,8,tt)):(e(),o("div",st,nt))]),t("div",it,[t("div",ot,[t("div",_t,[s.song_data.song_source=="kloudy"?(e(),k(h,{key:0,to:"/archive/music/songs/"+s.song_data.song_id,class:"song_title link"},{default:u(()=>[v(d(s.song_data.title),1)]),_:1},8,["to"])):s.song_data.song_source=="ncm_song"?(e(),o("a",{key:1,class:"song_title link",href:"https://music.163.com/#/song?id="+s.song_data.ncm_id,target:"_blank"},d(s.song_data.title),9,lt)):(e(),o("p",at,d(s.song_data.title),1))]),s.song_data._artists_name?(e(),o("p",ct,d(s.song_data._artists_name),1)):g("",!0)]),t("div",rt,[t("button",{onClick:i},[a(G)])])])])}}};const ut={class:"SongsGallery section"},mt={__name:"SongsGallery",props:{songs_data:{type:[Array,null],required:!0}},setup(s){return(_,n)=>(e(),o("div",ut,[a(V,null,{default:u(()=>[(e(!0),o($,null,L(s.songs_data,(c,i)=>(e(),k(dt,{key:c.song_key,song_data:c},null,8,["song_data"]))),128))]),_:1})]))}};const ht={class:"content"},gt={id:"music_home_top"},kt=t("div",{class:"text_box"},[t("p",{class:"title"},"歌曲库"),t("p",{class:"subtitle"},"收录的全部歌曲")],-1),vt=t("div",{class:"text_box"},[t("p",{class:"title"},"播放器"),t("p",{class:"subtitle"},"播放队列和滚动歌词")],-1),pt=t("div",{class:"text_box"},[t("p",{class:"title"},"自定义播放"),t("p",{class:"subtitle"},"支持播放网易云歌曲、歌单等")],-1),yt=t("h2",{class:"part_title"},[t("svg",{t:"1704596000064",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1547",width:"200",height:"200"},[t("path",{d:"M819.712975 263.712693l-186.730261-186.730262c-10.945883-10.945883-28.105271-10.331758-39.665279 0-8.344881 7.47788-6.213505 20.91639-6.213505 36.305652v486.098356c-62.279546-46.167784-164.946871-46.240034-255.945812 6.32188-113.179708 65.314048-165.127496 186.983137-116.178086 271.768574 49.021661 84.857687 180.408382 100.716574 293.479715 35.402526 87.892189-50.719537 139.298102-135.504974 134.782474-210.50053V168.523248l136.805475 134.854724c10.945883 10.945883 28.755521 10.945883 39.665279 0 10.945883-10.909758 10.945883-28.719396 0-39.665279z m-328.52099 602.276441c-82.834686 51.586538-184.237635 49.021661-224.37254-10.404007-40.026529-59.353418-3.648628-153.097862 79.077683-204.792775 82.834686-51.586538 186.983137-46.276159 227.118042 13.149509 40.062654 59.425669 0.903126 150.35236-81.823185 202.047273z"})]),v(" 歌曲 ")],-1),ft=t("h2",{class:"part_title"},[t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1270",width:"200",height:"200"},[t("path",{d:"M838.99432863 162.40722482l-186.33127437 38.02037807c-13.51137403 2.82796201-23.25213204 14.61113702-23.25213205 28.43672906v412.09690783c0 23.09502305-15.86800901 43.20497508-38.49170507 48.54668107L534.04575904 702.86218588c-34.24976206 8.01255901-61.27251012 37.39194207-61.42961915 72.58435814-0.31421799 48.07535409 44.30473808 83.58198817 90.96611119 72.74146715l29.85071007-6.91279599c48.70379009-11.31184801 83.26777017-53.73127811 85.62440516-103.22061322h0.47132701v-372.34833075c0-10.84052103 7.69834101-20.26706103 18.38175304-22.46658704l150.35331329-30.63625506c10.84052103-2.19952601 18.69597103-11.78317502 18.69597104-22.93791404v-104.47748521c0.15710901-14.76824603-13.35426503-25.76587604-27.96540206-22.78080504zM166.72491631 255.88708001h375.96183773v33.14999904H166.72491631zM166.72491631 387.38731327h375.96183773v33.14999905H166.72491631z"}),t("path",{d:"M166.72491631 518.88754654h375.96183773V552.03754558H166.72491631zM166.72491631 650.3877798h202.98482839v33.14999904H166.72491631z"})]),v(" 歌单 ")],-1),xt={class:"song_list_link"},bt=t("div",{style:{height:"10px"}},null,-1),Et={__name:"home",setup(s){const _=f(null),n=f("loading");c();async function c(){const i=await b("/archive/music/get_songs.php",{page:1});if(i.status!="success"){n.value="error";return}n.value="success",_.value=[],i.data.songs.forEach(l=>{_.value.push(D(l))})}return(i,r)=>{const l=m("RouterLink");return e(),o("div",ht,[a(S,{parent:{title:i.$text("nav.archive"),link:"/archive"},title:i.$text("nav.archive.music")},null,8,["parent","title"]),t("div",gt,[a(l,{class:"music_home_top_item type1",to:"/archive/music/songs"},{default:u(()=>[kt]),_:1}),a(l,{class:"music_home_top_item type2",to:"/archive/music/player"},{default:u(()=>[vt]),_:1}),a(l,{class:"music_home_top_item type3",to:"/archive/music/platforms"},{default:u(()=>[pt]),_:1})]),yt,a(mt,{songs_data:_.value},null,8,["songs_data"]),ft,t("div",xt,[a(Y,{class_id:"playlist"})]),bt,a(P,{post_id:"archive/music"})])}}};export{Et as default};
