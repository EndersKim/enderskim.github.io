import{ao as g,V as m,O as u,$ as f,o as a,d as i,g as l,e as s,Q as x,t as w,h as q,D as d}from"./index-dd97f7dd.js";import{_ as y}from"./SongsList-01d7afb1.js";import{_ as b}from"./PageTitle-c14d76ea.js";import{c as C}from"./parse_song_data-ec222120.js";import"./Pause-fcd2d74c.js";import"./ArrowShape-5541c851.js";/* empty css                                                   *//* empty css                                                  */import"./display_json_text-af9808a2.js";const k={class:"content"},$={class:"songlist_buttons_box"},B={class:"songlist_buttons"},M=s("div",{class:"icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 22",class:""},[s("g",null,[s("path",{d:"M2.36807692,21.8609375 C2.91885817,21.8609375 3.41104567,21.696875 4.07901442,21.3101562 L18.2118269,13.11875 C19.2899519,12.4859375 19.8524519,11.8882812 19.8524519,10.9507812 C19.8524519,10.0132812 19.2899519,9.415625 18.2118269,8.79453125 L4.07901442,0.59140625 C3.41104567,0.2046875 2.91885817,0.040625 2.36807692,0.040625 C1.24307692,0.040625 0.317295673,0.89609375 0.317295673,2.3375 L0.317295673,19.5640625 C0.317295673,21.0054687 1.24307692,21.8609375 2.36807692,21.8609375 Z"})])])],-1),V=s("p",{class:"text"},"播放歌单",-1),E=[M,V],L={class:"icon"},N={width:"32",height:"28",viewBox:"0 0 32 28",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(2.2)"}},O=s("path",{d:"M20.767 20.44a.81.81 0 00.49-.183l2.58-2.174c.316-.266.316-.681 0-.955l-2.58-2.183a.81.81 0 00-.49-.183c-.415 0-.673.258-.673.673v1.245h-1.162c-.739 0-1.195-.233-1.718-.847l-1.527-1.801 1.527-1.81c.54-.63.946-.847 1.677-.847h1.203v1.279c0 .407.258.664.673.664a.801.801 0 00.49-.174l2.58-2.175c.316-.266.316-.69 0-.955l-2.58-2.183a.761.761 0 00-.49-.183c-.415 0-.673.258-.673.665v1.386h-1.212c-1.228 0-1.992.34-2.863 1.386l-1.412 1.668-1.469-1.751c-.805-.946-1.569-1.303-2.747-1.303H8.896c-.53 0-.896.348-.896.838s.365.838.896.838h1.437c.697 0 1.162.225 1.685.847l1.519 1.801-1.52 1.81c-.53.623-.954.847-1.643.847H8.896c-.53 0-.896.348-.896.838s.365.838.896.838h1.536c1.179 0 1.901-.356 2.706-1.303l1.478-1.751 1.444 1.718c.822.98 1.627 1.336 2.822 1.336h1.212v1.412c0 .415.258.672.673.672z"},null,-1),D=[O],H=s("p",{class:"text"},"随机播放",-1),S={key:0,class:"songlist_box section"},j={class:"songlist_top"},z=s("h3",{class:"section_title"},"全部歌曲",-1),Q={class:"songlist_count"},R={class:"songlist_content"},Z={class:"songlist_songs"},Y={__name:"all_server_detail",setup(A){const t=g(),_=m(),o=u(null),n=u("loading");h(_.params.server,_.params.id);async function h(e,r){n.value="loading";const c=await f("https://meting.kloudy.cn/",{server:e,type:"playlist",id:r});c&&typeof c=="object"&&c.length>0?(o.value=c.map(C),n.value="success"):n.value="error"}function v(){o.value&&(t.queue=[],o.value.forEach(e=>{t.queue.indexOf(e)==-1&&t.queue.push(e)}),t.current_song=t.queue[0],t.current_song_index=0,d({message:"已替换播放队列为本页歌曲"}))}function p(){o.value&&(t.queue=[],o.value.forEach(e=>{t.queue.indexOf(e)==-1&&t.queue.push(e)}),t.queue.sort(()=>Math.random()-.5),t.current_song=t.queue[0],t.current_song_index=0,d({message:"已替换播放队列为本页歌曲 (随机排序)"}))}return(e,r)=>(a(),i("div",k,[l(b,{title:"歌单",parent:{title:"其他平台歌单",link:"/archive/music/all_server"}}),s("div",$,[s("div",B,[s("button",{class:"action_button",onClick:v},E),s("button",{class:"action_button",onClick:p},[s("div",L,[(a(),i("svg",N,D))]),H])])]),l(x,{error:n.value=="error",error_text:"无法找到此歌单"},null,8,["error"]),n.value=="success"?(a(),i("div",S,[s("div",j,[z,s("p",Q,w(o.value.length),1)]),s("div",R,[s("div",Z,[l(y,{songs_data:o.value},null,8,["songs_data"])])])])):q("",!0)]))}};export{Y as default};
