import{_ as f,N as z,r as n,o as l,d as c,e as t,n as B,k as m,w,l as v,t as i,h as o,Q as b,F as x,i as C,g as p,$ as y}from"./index-b4c9ea4e.js";import{A as M}from"./ArticleMainSection-07542fed.js";import{C as $}from"./CommunityPost-d5b13131.js";import"./markdown_to_html_widget-a003ad54.js";import"./index-97cf174a.js";import"./display_json_text-6432f714.js";import"./Rate-4cf8e8c5.js";/* empty css                                             */import"./AMovie.vue_vue_type_style_index_0_lang-73348c77.js";import"./parse_song_data-08175460.js";import"./Pause-7853db80.js";import"./List-50940b66.js";import"./UserBusiness-7ed70644.js";import"./Comment-ea2bced1.js";import"./markdown_to_html_lite-855e1114.js";import"./Pagination.vue_vue_type_style_index_0_lang-6044b8ef.js";import"./More-b9715ae9.js";import"./CharacterCard-0c1bd28d.js";import"./Warning-5acee2f1.js";import"./Comment-46c75543.js";const V={props:["article_data"],computed:{$relative_time(){return z},cover(){return this.article_data&&this.article_data.cover?this.article_data.cover:this.article_data&&this.article_data.parent&&this.article_data.parent.cover?this.article_data.parent.cover:"https://pic1.zhimg.com/v2-8d5ebb4f0fa67e76cbdd3c468f596e98_r.jpg"}}},S={key:0,class:"ArticleTitle"},H={class:"article_title_img_box"},P={class:"content"},T={class:"article_title_text"},D={class:"intro_row"},N={key:1,class:"info_row"},L=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},[t("path",{d:"M896 864a32 32 0 0 1 0 64H128a32 32 0 0 1 0-64z m-60.16-733.621333l15.093333 15.093333c45.866667 45.834667 45.866667 120.16 0 166.005333L418.794667 743.338667a160.192 160.192 0 0 1-78.122667 42.986666l-152.245333 34.197334c-23.84 5.365333-44.661333-16.853333-37.749334-40.288l43.338667-146.88a160.042667 160.042667 0 0 1 40.373333-67.925334l435.328-435.050666c45.866667-45.834667 120.245333-45.834667 166.112 0zM636.32 254.304L279.68 610.709333a96.021333 96.021333 0 0 0-24.213333 40.746667l-27.946667 94.656 99.093333-22.261333a96.117333 96.117333 0 0 0 46.869334-25.781334L726.933333 344.842667l-90.602666-90.538667z m78.698667-78.656l-33.397334 33.386667 90.602667 90.538666 33.386667-33.376a53.333333 53.333333 0 0 0 0-75.456l-15.093334-15.093333a53.408 53.408 0 0 0-75.498666 0z"})],-1),j=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},[t("path",{d:"M725.333333 170.666667h74.709334C864.853333 170.666667 917.333333 223.189333 917.333333 288.096V799.893333C917.333333 864.757333 864.832 917.333333 800.042667 917.333333H223.957333C159.146667 917.333333 106.666667 864.810667 106.666667 799.904V288.106667C106.666667 223.242667 159.168 170.666667 223.957333 170.666667H298.666667v-32a32 32 0 0 1 64 0v32h298.666666v-32a32 32 0 0 1 64 0v32z m0 64v32a32 32 0 0 1-64 0v-32H362.666667v32a32 32 0 0 1-64 0v-32h-74.709334A53.354667 53.354667 0 0 0 170.666667 288.096V799.893333A53.301333 53.301333 0 0 0 223.957333 853.333333h576.085334A53.354667 53.354667 0 0 0 853.333333 799.904V288.106667A53.301333 53.301333 0 0 0 800.042667 234.666667H725.333333z m-10.666666 224a32 32 0 0 1 0 64H309.333333a32 32 0 0 1 0-64h405.333334zM586.666667 618.666667a32 32 0 0 1 0 64H309.333333a32 32 0 0 1 0-64h277.333334z"})],-1),E=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},[t("path",{d:"M865.92 188.34944a30.72 30.72 0 0 1 30.69952 29.568l0.02048 1.152v184.32a30.72 30.72 0 0 1-29.568 30.69952l-1.152 0.02048h-184.32a30.72 30.72 0 0 1-1.152-61.41952l1.152-0.02048 153.6-0.00512V219.06944a30.72 30.72 0 0 1 29.568-30.69952l1.152-0.02048z"}),t("path",{d:"M235.97056 251.33056c142.52544-142.52032 372.71552-143.9488 516.992-4.2752l4.34688 4.2752 130.33472 130.33472a30.72 30.72 0 0 1-42.51136 44.34432l-0.93696-0.90112-130.33472-130.3296c-119.96672-119.97184-314.47552-119.97184-434.44224 0-119.97184 119.96672-119.97184 314.4704 0 434.44224 119.96672 119.97184 314.4704 119.97184 434.44224 0a30.72 30.72 0 1 1 43.44832 43.44832c-143.96416 143.95904-377.37472 143.95904-521.33888 0-143.95904-143.96416-143.95904-377.37472 0-521.33888z"})],-1);function F(a,d,e,h,r,_){const s=n("router-link");return e.article_data?(l(),c("div",S,[t("div",H,[t("div",{class:"article_title_img",style:B({"background-image":"url("+_.cover+")"})},null,4)]),t("div",P,[t("div",T,[e.article_data.parent?(l(),m(s,{key:0,class:"article_parent_title",to:"/blog/articles/"+e.article_data.parent.article_id},{default:w(()=>[v(i(e.article_data.parent.title),1)]),_:1},8,["to"])):o("",!0),t("h1",null,i(e.article_data.title),1),t("p",D,i(e.article_data.intro),1),e.article_data.character?(l(),c("div",N,[t("div",null,[L,t("span",null,i(e.article_data.character.nickname),1)]),t("div",null,[j,t("span",null,i(_.$relative_time(e.article_data.insert_time))+" ("+i(e.article_data.insert_time)+") ",1)]),t("div",null,[E,t("span",null,i(_.$relative_time(e.article_data.update_time))+" ("+i(e.article_data.update_time)+") ",1)])])):o("",!0)])])])):o("",!0)}const R=f(V,[["render",F]]);const K={components:{BlogArticleTitle:R,ArticleMainSection:M,CommunityPost:$,Placeholder:b},props:["article_data"]},Q={class:"article_detail"},U={key:1,class:"content"},q={key:0,class:"section article_children_section"},G={class:"section_title"},I={class:"article_children_item_title"},J={key:2,class:"section article_copyright_section"},O=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M512 0C229.888 0 0 229.888 0 512s229.888 512 512 512 512-229.888 512-512S794.112 0 512 0z m0 944.64c-238.592 0-432.64-194.048-432.64-432.64S273.408 79.36 512 79.36s432.64 194.048 432.64 432.64-194.048 432.64-432.64 432.64z"}),t("path",{d:"M644.608 379.392c15.36 15.36 40.448 15.36 55.808 0s15.36-40.448 0-55.808c-103.936-103.936-273.408-103.936-377.344 0-103.936 103.936-103.936 273.408 0 377.344 52.224 52.224 120.32 77.824 188.928 77.824s136.704-26.112 188.928-77.824c15.36-15.36 15.36-40.448 0-55.808s-40.448-15.36-55.808 0c-73.216 73.216-192.512 73.216-265.728 0-73.216-73.216-73.216-192.512 0-265.728 73.216-73.216 192-73.216 265.216 0z"})],-1),W={class:"section_title"},X={href:"https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh",target:"_blank"};function Y(a,d,e,h,r,_){const s=n("BlogArticleTitle"),u=n("router-link"),k=n("ArticleMainSection"),A=n("CommunityPost");return l(),c("div",Q,[e.article_data?(l(),m(s,{key:0,article_data:e.article_data},null,8,["article_data"])):o("",!0),e.article_data?(l(),c("div",U,[e.article_data.children&&e.article_data.children.length>0?(l(),c("div",q,[t("h3",G,i(a.$text("blog.chapters")),1),(l(!0),c(x,null,C(e.article_data.children,g=>(l(),c("div",{class:"article_children_item_box",key:g.post_no},[p(u,{class:"article_children_item",to:"/blog/articles/"+g.article_id},{default:w(()=>[t("span",I,i(g.title),1)]),_:2},1032,["to"])]))),128))])):o("",!0),e.article_data.content?(l(),m(k,{key:1,article_data:e.article_data},null,8,["article_data"])):o("",!0),e.article_data.content?(l(),c("div",J,[O,t("h3",W,i(a.$text("blog.copyright")),1),t("p",null,[v(i(a.$text("blog.copyright1_1")),1),t("a",X,i(a.$text("blog.copyright1_2")),1),v(i(a.$text("blog.copyright1_3")),1)]),t("p",null,i(a.$text("blog.copyright2")),1),t("p",null,i(a.$text("nav.copyright_info")),1)])):o("",!0),p(A,{post_id:"blog/articles/"+e.article_data.article_id},null,8,["post_id"])])):o("",!0)])}const Z=f(K,[["render",Y]]),tt={components:{BlogArticleDetail:Z,Placeholder:b},data(){return{article_data:null,not_found:!1}},methods:{set_article_data(a){a.status=="success"?(this.article_data=a.data,document.title=this.article_data.title+" - Kloudy Shape"):(this.article_data=null,this.not_found=!0)}},async beforeRouteEnter(a,d,e){const h=await y("/blog/get_article_detail.php",{article_id:a.params.id.join("/")});e(r=>r.set_article_data(h))},async beforeRouteUpdate(a,d){const e=await y("/blog/get_article_detail.php",{article_id:a.params.id.join("/")});this.set_article_data(e)}};function et(a,d,e,h,r,_){const s=n("BlogArticleDetail"),u=n("Placeholder");return l(),c(x,null,[r.article_data?(l(),m(s,{key:0,article_data:r.article_data},null,8,["article_data"])):o("",!0),p(u,{loading:!r.article_data&&!r.not_found,error:!r.article_data&&r.not_found,error_title:a.$text("blog.article_not_found"),error_text:a.$text("blog.article_not_found_info")},null,8,["loading","error","error_title","error_text"])],64)}const xt=f(tt,[["render",et]]);export{xt as default};
